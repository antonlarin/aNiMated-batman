var cfg = require("./config");
var path = require("path")

exports.getSolverDescriptions = function() {
	var solvers = cfg.solvers;
	return solvers
}

var loadedSolverContainers = { };
function loadSolverContainer(path) {
	var solverContainer = loadedSolverContainers[path];
	if (solverContainer)
		return solverContainer;

	solverContainer = require(path);
	loadedSolverContainers[path] = solverContainer;
	return solverContainer;
}

exports.provide = function(solverDescription) {
	var solverPath = solverDescription.path
	var solverContainer = loadSolverContainer(path.join("./" + solverPath));
	return new solverContainer.Solver();
}
